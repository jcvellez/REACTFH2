{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useRef, useState } from 'react';\nconst useFetch = url => {\n  _s();\n  const isMounted = useRef(true);\n  const [state, setState] = useState({\n    data: null,\n    loading: true,\n    error: null\n  });\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n  useEffect(() => {\n    setState({\n      data: null,\n      loading: true,\n      error: null\n    });\n    fetch(url).then(resp => resp.json()).then(data => {\n      setTimeout(() => {\n        if (isMounted.current) {\n          setState({\n            loading: false,\n            error: null,\n            data: data\n          });\n        } else {\n          console.log('SetState no se llamo');\n        }\n      }, 1000);\n    });\n  }, [url]);\n  return state;\n};\n_s(useFetch, \"jWz5cL2QUU1sxZyeUB6UW+ViQZI=\");\nexport default useFetch;","map":{"version":3,"names":["useEffect","useRef","useState","useFetch","url","_s","isMounted","state","setState","data","loading","error","current","fetch","then","resp","json","setTimeout","console","log"],"sources":["C:/VARIOS/REACTFH2/05-hook-app/src/hooks/useFetch.js"],"sourcesContent":["import { useEffect, useRef, useState } from 'react'\r\n\r\nconst useFetch = (url) => {\r\n\r\n    const isMounted = useRef(true);\r\n\r\n    const [state, setState] = useState(\r\n        {\r\n            data: null,\r\n            loading: true,\r\n            error: null\r\n        }\r\n    );\r\n\r\n    useEffect(() => {\r\n\r\n\r\n        return () => {\r\n            isMounted.current = false;\r\n        }\r\n    }, [])\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        setState({ data: null, loading: true, error: null });\r\n\r\n        fetch(url)\r\n            .then(resp => resp.json())\r\n            .then(data => {\r\n\r\n                setTimeout(() => {\r\n                    if (isMounted.current) {\r\n                        setState({\r\n                            loading: false,\r\n                            error: null,\r\n                            data: data\r\n                        })\r\n                    } else {\r\n                        console.log('SetState no se llamo');\r\n                    }\r\n\r\n                }, 1000);\r\n\r\n            }\r\n            )\r\n    }, [url])\r\n\r\n    return state;\r\n\r\n}\r\n\r\nexport default useFetch"],"mappings":";AAAA,SAASA,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAEnD,MAAMC,QAAQ,GAAIC,GAAG,IAAK;EAAAC,EAAA;EAEtB,MAAMC,SAAS,GAAGL,MAAM,CAAC,IAAI,CAAC;EAE9B,MAAM,CAACM,KAAK,EAAEC,QAAQ,CAAC,GAAGN,QAAQ,CAC9B;IACIO,IAAI,EAAE,IAAI;IACVC,OAAO,EAAE,IAAI;IACbC,KAAK,EAAE;EACX,CACJ,CAAC;EAEDX,SAAS,CAAC,MAAM;IAGZ,OAAO,MAAM;MACTM,SAAS,CAACM,OAAO,GAAG,KAAK;IAC7B,CAAC;EACL,CAAC,EAAE,EAAE,CAAC;EAGNZ,SAAS,CAAC,MAAM;IAEZQ,QAAQ,CAAC;MAAEC,IAAI,EAAE,IAAI;MAAEC,OAAO,EAAE,IAAI;MAAEC,KAAK,EAAE;IAAK,CAAC,CAAC;IAEpDE,KAAK,CAACT,GAAG,CAAC,CACLU,IAAI,CAACC,IAAI,IAAIA,IAAI,CAACC,IAAI,CAAC,CAAC,CAAC,CACzBF,IAAI,CAACL,IAAI,IAAI;MAEVQ,UAAU,CAAC,MAAM;QACb,IAAIX,SAAS,CAACM,OAAO,EAAE;UACnBJ,QAAQ,CAAC;YACLE,OAAO,EAAE,KAAK;YACdC,KAAK,EAAE,IAAI;YACXF,IAAI,EAAEA;UACV,CAAC,CAAC;QACN,CAAC,MAAM;UACHS,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAC;QACvC;MAEJ,CAAC,EAAE,IAAI,CAAC;IAEZ,CACA,CAAC;EACT,CAAC,EAAE,CAACf,GAAG,CAAC,CAAC;EAET,OAAOG,KAAK;AAEhB,CAAC;AAAAF,EAAA,CAhDKF,QAAQ;AAkDd,eAAeA,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}